(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{5139:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var s=r(4979),n=r(5374),a=r.n(n);let l={size:{type:"enum",values:["1","2","3","4"],default:"4",responsive:!0},display:{type:"enum",values:["none","block"],default:void 0,responsive:!0}};var i=r(6315),o=r(4687),c=r(4669);let u=s.forwardRef((e,t)=>{let{rest:r,...n}=(0,i.FY)(e),{rest:u,...d}=(0,o.F8)(r),{children:f,className:h,size:m=l.size.default,display:x=l.display.default,...p}=u;return s.createElement("div",{...p,ref:t,className:a()("rt-Container",h,(0,c.g)(m,"rt-r-size"),(0,c.g)(x,"rt-r-display"),(0,o.yt)(d),(0,i.we)(n))},s.createElement("div",{className:"rt-ContainerInner"},f))});u.displayName="Container"},7203:function(e,t,r){"use strict";r.d(t,{w:function(){return l}});var s=r(9678),n=r(4979),a=r(2985);let l=n.forwardRef(({userData:e,children:t,geometry:r,threshold:l=15,color:i="black",...o},c)=>{let u=n.useRef(null);return n.useLayoutEffect(()=>{let e=u.current.parent;if(e){let t=r||e.geometry;(t!==u.current.userData.currentGeom||l!==u.current.userData.currentThreshold)&&(u.current.userData.currentGeom=t,u.current.userData.currentThreshold=l,u.current.geometry=new a.EdgesGeometry(t,l))}}),n.useImperativeHandle(c,()=>u.current),n.createElement("lineSegments",(0,s.Z)({ref:u,raycast:()=>null},o),t||n.createElement("lineBasicMaterial",{color:i}))})},3786:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var s=r(9678),n=r(4979),a=r(2985),l=r(5391),i=r(6465);let o=n.forwardRef(function({points:e,color:t="black",vertexColors:r,linewidth:o,lineWidth:c,segments:u,dashed:d,...f},h){let m=(0,l.z)(e=>e.size),x=n.useMemo(()=>u?new i.wUb:new i.w_R,[u]),[p]=n.useState(()=>new i.YRm),g=n.useMemo(()=>{let t=u?new i.zOz:new i.L1_,s=e.map(e=>{let t=Array.isArray(e);return e instanceof a.Vector3?[e.x,e.y,e.z]:e instanceof a.Vector2?[e.x,e.y,0]:t&&3===e.length?[e[0],e[1],e[2]]:t&&2===e.length?[e[0],e[1],0]:e});if(t.setPositions(s.flat()),r){let e=r.map(e=>e instanceof a.Color?e.toArray():e);t.setColors(e.flat())}return t},[e,u,r]);return n.useLayoutEffect(()=>{x.computeLineDistances()},[e,x]),n.useLayoutEffect(()=>{d?p.defines.USE_DASH="":delete p.defines.USE_DASH,p.needsUpdate=!0},[d,p]),n.useEffect(()=>()=>g.dispose(),[g]),n.createElement("primitive",(0,s.Z)({object:x,ref:h},f),n.createElement("primitive",{object:g,attach:"geometry"}),n.createElement("primitive",(0,s.Z)({object:p,attach:"material",color:t,vertexColors:!!r,resolution:[m.width,m.height],linewidth:null!=o?o:c,dashed:d},f)))})},8257:function(e,t,r){Promise.resolve().then(r.bind(r,3144))},3144:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return LightingNormalPage}});var s,n,a=r(9634),l=r(8081),i=r(5139),o=r(8967),c=r(9039),u=r(748),d=r(4316),f=r(8590),h=r.n(f),m=r(4979);let Button=e=>{let{children:t,onClick:r}=e;return(0,a.jsx)("button",{className:"w-48 rounded-md bg-neutral-600 px-6 py-3 transition-colors hover:bg-neutral-500",onClick:r,children:t})};var x=r(2905),p=r(7203),g=r(3786);let FaceNormalMesh=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("group",{children:(0,a.jsxs)(x.xu,{args:[8,8,8],children:[(0,a.jsx)("meshStandardMaterial",{color:"white"}),(0,a.jsx)(p.w,{scale:1,threshold:15,color:"black"})]})}),(0,a.jsxs)("group",{children:[(0,a.jsx)(g.x,{points:[[0,0,0],[0,0,8]],color:"red"}),(0,a.jsx)(g.x,{points:[[0,0,0],[0,8,0]],color:"green"}),(0,a.jsx)(g.x,{points:[[0,0,0],[8,0,0]],color:"blue"}),(0,a.jsx)(g.x,{points:[[0,0,0],[0,0,-8]],color:"red"}),(0,a.jsx)(g.x,{points:[[0,0,0],[0,-8,0]],color:"green"}),(0,a.jsx)(g.x,{points:[[0,0,0],[-8,0,0]],color:"blue"})]})]});var j=r(5391),b=r(3813),w=r(2985);let y=new w.Vector3,v=new w.Vector3,E=new w.Matrix3;let VertexNormalsHelper=class VertexNormalsHelper extends w.LineSegments{constructor(e,t=1,r=16711680){let s=new w.BufferGeometry,n=e.geometry.attributes.normal.count,a=new w.Float32BufferAttribute(6*n,3);s.setAttribute("position",a),super(s,new w.LineBasicMaterial({color:r,toneMapped:!1})),this.object=e,this.size=t,this.type="VertexNormalsHelper",this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0),E.getNormalMatrix(this.object.matrixWorld);let e=this.object.matrixWorld,t=this.geometry.attributes.position,r=this.object.geometry;if(r){let s=r.attributes.position,n=r.attributes.normal,a=0;for(let r=0,l=s.count;r<l;r++)y.fromBufferAttribute(s,r).applyMatrix4(e),v.fromBufferAttribute(n,r),v.applyMatrix3(E).normalize().multiplyScalar(this.size).add(y),t.setXYZ(a,y.x,y.y,y.z),a+=1,t.setXYZ(a,v.x,v.y,v.z),a+=1}t.needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};let VertexNormalMesh=()=>{let e=(0,m.useRef)(),t=[5,8,8],{flat:r,color:s}=(0,b.M4)({color:{label:"Color",value:"#ff0000"},flat:{label:"Flat Shading",value:!0}});return!function(e,t,...r){let s=m.useRef(),n=(0,j.z)(e=>e.scene);m.useLayoutEffect(()=>{let a;if(e&&null!=e&&e.current&&t&&(s.current=a=new t(e.current,...r)),a)return a.traverse(e=>e.raycast=()=>null),n.add(a),()=>{s.current=void 0,n.remove(a),null==a.dispose||a.dispose()}},[n,t,e,...r]),(0,j.A)(()=>{var e;null==(e=s.current)||null==e.update||e.update()})}(e,VertexNormalsHelper,2,parseInt(s.replace("#",""),16)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.aL,{ref:e,args:t,children:r?(0,a.jsx)("meshPhongMaterial",{flatShading:!0,color:"white",shininess:100}):(0,a.jsx)("meshLambertMaterial",{color:"white"})}),(0,a.jsx)(x.aL,{args:[...t,0,2*Math.PI,0,Math.PI],children:(0,a.jsx)("meshBasicMaterial",{wireframe:!0,color:"black"})})]})};(s=n||(n={}))[s.VERTEX=0]="VERTEX",s[s.FACE=1]="FACE";let N=h()(()=>r.e(588).then(r.bind(r,3588)).then(e=>e.View),{loadableGenerated:{webpack:()=>[3588]},ssr:!1,loading:()=>(0,a.jsx)(l.a,{})});function LightingNormalPage(){let[e,t]=(0,m.useState)(n.VERTEX),r=(0,m.useRef)(),s=(0,m.useRef)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"relative",ref:s}),(0,a.jsxs)(N,{className:"h-full w-full",index:0,track:s,orbit:!0,children:[(e=>{switch(e){case n.FACE:return(0,a.jsx)(FaceNormalMesh,{});case n.VERTEX:default:return(0,a.jsx)(VertexNormalMesh,{})}})(e),(0,a.jsx)("ambientLight",{intensity:.3}),(0,a.jsx)("pointLight",{position:[15,15,15],intensity:2}),(0,a.jsx)(d.c,{ref:r,makeDefault:!0,position:[15,15,15],fov:60})]}),(0,a.jsx)("div",{className:"fixed left-0 top-10 z-10 w-screen pl-80",children:(0,a.jsxs)(i.W,{p:"6",px:"9",children:[(0,a.jsx)(o.X,{size:"8",weight:"light",mb:"2",children:"Normals"}),(0,a.jsxs)(o.X,{size:"4",weight:"light",children:["Normals are used to determine how light interacts with a surface. ",(0,a.jsx)("br",{}),(e=>{switch(e){case n.FACE:return"Surface Normal for a triangle is the vector cross product of two edges of that triangle";case n.VERTEX:default:return"Vertex Normal is defined at a triangle vertex."}})(e),(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsx)(Button,{onClick:()=>{let r=e-1,s=Object.keys(n).length/2;r<0&&(r=s-1),t(r)},children:"Previous"}),(0,a.jsx)(Button,{onClick:()=>{let r=e+1,s=Object.keys(n).length/2;r>s-1&&(r=0),t(r)},children:"Next"})]})]})]})}),(0,a.jsx)("div",{className:"fixed bottom-10 left-0 z-10 w-screen pl-80",children:(0,a.jsx)(c.$,{p:"6",children:(0,a.jsx)(u.V,{children:"Explore the different kinds of normals in a mesh by clicking on the buttons above."})})})]})}},8081:function(e,t,r){"use strict";r.d(t,{a:function(){return Loader}});var s=r(9634);let Loader=()=>(0,s.jsx)("div",{className:"flex h-96 w-full flex-col items-center justify-center",children:(0,s.jsxs)("svg",{className:"-ml-1 mr-3 h-5 w-5 animate-spin text-black",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}},function(e){e.O(0,[252,545,391,367,351,657,739,904,726,744],function(){return e(e.s=8257)}),_N_E=e.O()}]);